# Data Collection

Our dataset is offered by AWS and publicly available on S3.

The data is available in TSV files in the amazon-reviews-pds S3 bucket in AWS US East Region. Each line in the data files corresponds to an individual review (tab delimited, with no quote and escape characters).

```sql
CREATE EXTERNAL TABLE amazon_reviews_parquet(
  marketplace string, 
  customer_id string, 
  review_id string, 
  product_id string, 
  product_parent string, 
  product_title string, 
  star_rating int, 
  helpful_votes int, 
  total_votes int, 
  vine string, 
  verified_purchase string, 
  review_headline string, 
  review_body string, 
  review_date bigint, 
  year int)
PARTITIONED BY (product_category string)
ROW FORMAT SERDE 
  'org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe' 
STORED AS INPUTFORMAT 
  'org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat' 
OUTPUTFORMAT 
  'org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat'
LOCATION
  's3://amazon-reviews-pds/parquet/'

```
Then we have to load data into the table we have just created

```sql
MSCK REPAIR TABLE amazon_reviews_parquet
```

This query is going to run for a couple of seconds, loading data into the dable. 
Finally, running the following query, we can choose our preferred category for this project

```sql
SELECT * 
FROM "ai4devs"."amazon_reviews_parquet" 
LIMIT 10
```

We're going to select **Video_Games** because, of course, we're nerds :)

Then, the first and most important part of any data project is "to look at data":

```sql
SELECT * 
FROM "ai4devs"."amazon_reviews_parquet" 
WHERE product_category='Video_Games'
LIMIT 10
```

which returns a limited set of results

|marketplace|customer_id|review_id     |product_id|product_parent|product_title                                                                                                                   |star_rating|helpful_votes|total_votes|vine|verified_purchase|review_headline                    |review_body                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |review_date|year|product_category|
|-----------|-----------|--------------|----------|--------------|--------------------------------------------------------------------------------------------------------------------------------|-----------|-------------|-----------|----|-----------------|-----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|----|----------------|
|US         |52790787   |R3NNSQ13Y9RKJW|B000FQBF1M|962164636     |Killzone 2 - Playstation 3                                                                                                      |3          |5            |8          |N   |Y                |Its good.  Not great.              |There is always so much frenzy when the latest promising games are released.  I admit that I got caught up in all the fever and purchased this game.  I'll keep it brief:    PROS:  - Visually the game is impressive most of the time.  The scenes are unique and rich with detail.    CONS:  - Gameplay is OK.  As many others have pointed out, the controls are a bit awkward but its not that big of a deal.  [...] this game is officially labelled a 9 out of 10.  I'd give it a 7.5.|14382      |2009|Video_Games     |
|US         |44462625   |R2BOSV12STOKSV|B004CVRAFQ|991357282     |Xbox LIVE 12 Month Gold Starter Kit                                                                                             |5          |0            |0          |N   |Y                |Great price!                       |My son loved it, it's just what you'd expect, brand new, works great and much cheaper than anywhere else! It's like buy one get one free :-)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |16170      |2014|Video_Games     |
|US         |32592375   |R3VKYY27NAIGXJ|B001H0RZX2|921776835     |My Fitness Coach - Nintendo Wii                                                                                                 |5          |1            |1          |N   |Y                |A great workout                    |I have been using this video for about 3 weeks and I love it!  It is so much better than Wii Fit!  This video lets you chose how long [...] Wii Fit and My Fitness Coach gives you a much better workout!  Give it a try!  You will love it!                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |14382      |2009|Video_Games     |
|US         |42827843   |R3QX4K4DJYJZIQ|B0048C89QI|230550092     |Ultimate Combo Pack: Ratchet and Clank Future: A Crack in Time - Playstation 3                                                  |5          |0            |0          |N   |Y                |I still have not played the game   |But i bought this combo pack when it was cheaper than buying a controller along. SCORE! anyways, the controller and game look nice and work. boom.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |16170      |2014|Video_Games     |
|US         |36911660   |RDK01229DC0G2 |B000HKKQ3Y|509903106     |Battleship/Connect 4/Sorry/Trouble - Nintendo DS                                                                                |5          |1            |1          |N   |Y                |Back to my younger years           |I enjoyed the DS version of these games so much when I played them with my granddaugter that I had to get one for myself.  It takes me back to my younger years!                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |14382      |2009|Video_Games     |
|US         |2738271    |RMA2NQP7FPE6W |B00H56ADXQ|981936344     |Lot of 10 Pairs of Thumbsticks Thumb sticks for Sony Playstation 4 PS4 Controller-Black                                         |5          |0            |1          |N   |Y                |Good knobs                         |They are as discribed and work great.if they are not original they sure work the same would purchase again.good job                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |16170      |2014|Video_Games     |
|US         |22322062   |R2LHIWC5YWT46X|B000E7RH0A|435152829     |Guerrilla War                                                                                                                   |5          |1            |2          |N   |Y                |Guerrilla War                      |For the NES 8 bit system this is a really fun game to play. Two players side by side, unlimited continues, play on.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |14382      |2009|Video_Games     |
|US         |4918495    |R2EHIZGR8UWGR4|B00CRL9TU2|697909686     |Gran Turismo 6                                                                                                                  |5          |0            |0          |N   |Y                |One of the best games!             |As all of Playstation gamers know Gran Turismo series are one of the best series in history. As usual this one is really good too. Even I can't play well, I'm so amazed about the resolution quality and effects.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |16170      |2014|Video_Games     |
|US         |43846425   |RFIEBA39QC6LM |B001AH1ATM|608182325     |Scrabble Journey - Mac                                                                                                          |4          |3            |3          |N   |Y                |Scrabble Journey                   |I got this mostly because I love to play Scrabble and I usually can't get anyone else interested... this is played alone anytime you are ready.  You just fill in the boards as you travel over the world on a journey of spelling and fun.  I really like it.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |14382      |2009|Video_Games     |
|US         |24396460   |RQQ92PMKHPTQE |B00E3H31Y8|252391210     |New - Microsoft Xbox 360 Laser Lens - Liteon DG-16D2S/ BenQ VAD6038 (HOP-141X 14XX 141B) + Nextek® Torx T10 Security Screwdriver|5          |2            |2          |N   |Y                |Fixes "Open Tray" issue on Xbox 360|Replaced the ol[...]. Games and DVDs now read right away.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |16170      |2014|Video_Games     |


